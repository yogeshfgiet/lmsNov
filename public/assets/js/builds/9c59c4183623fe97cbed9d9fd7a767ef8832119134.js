/*! jQuery Validation Plugin - v1.12.0 - 4/1/2014
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 JÃ¶rn Zaefferer; Licensed MIT */!function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=d.attr("type");return"radio"===e||"checkbox"===e?a("input[name='"+d.attr("name")+"']:checked").val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c[0].toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule"+c[0].toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(a){var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)})}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery);
/*! jQuery Validation Plugin - v1.12.0 - 4/1/2014
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 JÃ¶rn Zaefferer; Licensed MIT */!function(){function a(a){return a.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-âââ]*/g,"")}jQuery.validator.addMethod("maxWords",function(b,c,d){return this.optional(c)||a(b).match(/\b\w+\b/g).length<=d},jQuery.validator.format("Please enter {0} words or less.")),jQuery.validator.addMethod("minWords",function(b,c,d){return this.optional(c)||a(b).match(/\b\w+\b/g).length>=d},jQuery.validator.format("Please enter at least {0} words.")),jQuery.validator.addMethod("rangeWords",function(b,c,d){var e=a(b),f=/\b\w+\b/g;return this.optional(c)||e.match(f).length>=d[0]&&e.match(f).length<=d[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}(),jQuery.validator.addMethod("accept",function(a,b,c){var d,e,f="string"==typeof c?c.replace(/\s/g,"").replace(/,/g,"|"):"image/*",g=this.optional(b);if(g)return g;if("file"===jQuery(b).attr("type")&&(f=f.replace(/\*/g,".*"),b.files&&b.files.length))for(d=0;d<b.files.length;d++)if(e=b.files[d],!e.type.match(new RegExp(".?("+f+")$","i")))return!1;return!0},jQuery.validator.format("Please enter a value with a valid mimetype.")),jQuery.validator.addMethod("alphanumeric",function(a,b){return this.optional(b)||/^\w+$/i.test(a)},"Letters, numbers, and underscores only please"),jQuery.validator.addMethod("bankaccountNL",function(a,b){if(this.optional(b))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(a))return!1;var c,d,e,f=a.replace(/ /g,""),g=0,h=f.length;for(c=0;h>c;c++)d=h-c,e=f.substring(c,c+1),g+=d*e;return g%11===0},"Please specify a valid bank account number"),jQuery.validator.addMethod("bankorgiroaccountNL",function(a,b){return this.optional(b)||$.validator.methods.bankaccountNL.call(this,a,b)||$.validator.methods.giroaccountNL.call(this,a,b)},"Please specify a valid bank or giro account number"),jQuery.validator.addMethod("bic",function(a,b){return this.optional(b)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(a)},"Please specify a valid BIC code"),jQuery.validator.addMethod("cifES",function(a){"use strict";var b,c,d,e,f,g,h=[];if(a=a.toUpperCase(),!a.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(d=0;9>d;d++)h[d]=parseInt(a.charAt(d),10);for(c=h[2]+h[4]+h[6],e=1;8>e;e+=2)f=(2*h[e]).toString(),g=f.charAt(1),c+=parseInt(f.charAt(0),10)+(""===g?0:parseInt(g,10));return/^[ABCDEFGHJNPQRSUVW]{1}/.test(a)?(c+="",b=10-parseInt(c.charAt(c.length-1),10),a+=b,h[8].toString()===String.fromCharCode(64+b)||h[8].toString()===a.charAt(a.length-1)):!1},"Please specify a valid CIF number."),jQuery.validator.addMethod("creditcardtypes",function(a,b,c){if(/[^0-9\-]+/.test(a))return!1;a=a.replace(/\D/g,"");var d=0;return c.mastercard&&(d|=1),c.visa&&(d|=2),c.amex&&(d|=4),c.dinersclub&&(d|=8),c.enroute&&(d|=16),c.discover&&(d|=32),c.jcb&&(d|=64),c.unknown&&(d|=128),c.all&&(d=255),1&d&&/^(5[12345])/.test(a)?16===a.length:2&d&&/^(4)/.test(a)?16===a.length:4&d&&/^(3[47])/.test(a)?15===a.length:8&d&&/^(3(0[012345]|[68]))/.test(a)?14===a.length:16&d&&/^(2(014|149))/.test(a)?15===a.length:32&d&&/^(6011)/.test(a)?16===a.length:64&d&&/^(3)/.test(a)?16===a.length:64&d&&/^(2131|1800)/.test(a)?15===a.length:128&d?!0:!1},"Please enter a valid credit card number."),jQuery.validator.addMethod("currency",function(a,b,c){var d,e="string"==typeof c,f=e?c:c[0],g=e?!0:c[1];return f=f.replace(/,/g,""),f=g?f+"]":f+"]?",d="^["+f+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",d=new RegExp(d),this.optional(b)||d.test(a)},"Please specify a valid currency"),jQuery.validator.addMethod("dateITA",function(a,b){var c,d,e,f,g,h=!1,i=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return i.test(a)?(c=a.split("/"),d=parseInt(c[0],10),e=parseInt(c[1],10),f=parseInt(c[2],10),g=new Date(f,e-1,d,12,0,0,0),h=g.getFullYear()===f&&g.getMonth()===e-1&&g.getDate()===d?!0:!1):h=!1,this.optional(b)||h},"Please enter a correct date"),jQuery.validator.addMethod("dateNL",function(a,b){return this.optional(b)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(a)},"Please enter a correct date"),jQuery.validator.addMethod("extension",function(a,b,c){return c="string"==typeof c?c.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(b)||a.match(new RegExp(".("+c+")$","i"))},jQuery.validator.format("Please enter a value with a valid extension.")),jQuery.validator.addMethod("giroaccountNL",function(a,b){return this.optional(b)||/^[0-9]{1,7}$/.test(a)},"Please specify a valid giro account number"),jQuery.validator.addMethod("iban",function(a,b){if(this.optional(b))return!0;var c,d,e,f,g,h,i,j,k,l=a.replace(/ /g,"").toUpperCase(),m="",n=!0,o="",p="";if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(l))return!1;if(c=l.substring(0,2),h={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},g=h[c],"undefined"!=typeof g&&(i=new RegExp("^[A-Z]{2}\\d{2}"+g+"$",""),!i.test(l)))return!1;for(d=l.substring(4,l.length)+l.substring(0,4),j=0;j<d.length;j++)e=d.charAt(j),"0"!==e&&(n=!1),n||(m+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e));for(k=0;k<m.length;k++)f=m.charAt(k),p=""+o+f,o=p%97;return 1===o},"Please specify a valid IBAN"),jQuery.validator.addMethod("integer",function(a,b){return this.optional(b)||/^-?\d+$/.test(a)},"A positive or negative non-decimal number please"),jQuery.validator.addMethod("ipv4",function(a,b){return this.optional(b)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(a)},"Please enter a valid IP v4 address."),jQuery.validator.addMethod("ipv6",function(a,b){return this.optional(b)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(a)},"Please enter a valid IP v6 address."),jQuery.validator.addMethod("lettersonly",function(a,b){return this.optional(b)||/^[a-z]+$/i.test(a)},"Letters only please"),jQuery.validator.addMethod("letterswithbasicpunc",function(a,b){return this.optional(b)||/^[a-z\-.,()'"\s]+$/i.test(a)},"Letters or punctuation only please"),jQuery.validator.addMethod("mobileNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid mobile number"),jQuery.validator.addMethod("mobileUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),jQuery.validator.addMethod("nieES",function(a){"use strict";return a=a.toUpperCase(),a.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[T]{1}/.test(a)?a[8]===/^[T]{1}[A-Z0-9]{8}$/.test(a):/^[XYZ]{1}/.test(a)?a[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(a.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23):!1:!1},"Please specify a valid NIE number."),jQuery.validator.addMethod("nifES",function(a){"use strict";return a=a.toUpperCase(),a.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[0-9]{8}[A-Z]{1}$/.test(a)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(a.substring(8,0)%23)===a.charAt(8):/^[KLM]{1}/.test(a)?a[8]===String.fromCharCode(64):!1:!1},"Please specify a valid NIF number."),jQuery.validator.addMethod("nowhitespace",function(a,b){return this.optional(b)||/^\S+$/i.test(a)},"No white space please"),jQuery.validator.addMethod("pattern",function(a,b,c){return this.optional(b)?!0:("string"==typeof c&&(c=new RegExp(c)),c.test(a))},"Invalid format."),jQuery.validator.addMethod("phoneNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid phone number."),jQuery.validator.addMethod("phoneUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("phoneUS",function(a,b){return a=a.replace(/\s+/g,""),this.optional(b)||a.length>9&&a.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),jQuery.validator.addMethod("phonesUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),jQuery.validator.addMethod("postalcodeNL",function(a,b){return this.optional(b)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(a)},"Please specify a valid postal code"),jQuery.validator.addMethod("postcodeUK",function(a,b){return this.optional(b)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(a)},"Please specify a valid UK postcode"),jQuery.validator.addMethod("require_from_group",function(a,b,c){var d=$(c[1],b.form),e=d.eq(0),f=e.data("valid_req_grp")?e.data("valid_req_grp"):$.extend({},this),g=d.filter(function(){return f.elementValue(this)}).length>=c[0];return e.data("valid_req_grp",f),$(b).data("being_validated")||(d.data("being_validated",!0),d.each(function(){f.element(this)}),d.data("being_validated",!1)),g},jQuery.validator.format("Please fill at least {0} of these fields.")),jQuery.validator.addMethod("skip_or_fill_minimum",function(a,b,c){var d=$(c[1],b.form),e=d.eq(0),f=e.data("valid_skip")?e.data("valid_skip"):$.extend({},this),g=d.filter(function(){return f.elementValue(this)}).length,h=0===g||g>=c[0];return e.data("valid_skip",f),$(b).data("being_validated")||(d.data("being_validated",!0),d.each(function(){f.element(this)}),d.data("being_validated",!1)),h},jQuery.validator.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("strippedminlength",function(a,b,c){return jQuery(a).text().length>=c},jQuery.validator.format("Please enter at least {0} characters")),jQuery.validator.addMethod("time",function(a,b){return this.optional(b)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(a)},"Please enter a valid time, between 00:00 and 23:59"),jQuery.validator.addMethod("time12h",function(a,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(a)},"Please enter a valid time in 12-hour am/pm format"),jQuery.validator.addMethod("url2",function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},jQuery.validator.messages.url),jQuery.validator.addMethod("vinUS",function(a){if(17!==a.length)return!1;var b,c,d,e,f,g,h=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],i=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],j=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],k=0;for(b=0;17>b;b++){if(e=j[b],d=a.slice(b,b+1),8===b&&(g=d),isNaN(d)){for(c=0;c<h.length;c++)if(d.toUpperCase()===h[c]){d=i[c],d*=e,isNaN(g)&&8===c&&(g=h[c]);break}}else d*=e;k+=d}return f=k%11,10===f&&(f="X"),f===g?!0:!1},"The specified vehicle identification number (VIN) is invalid."),jQuery.validator.addMethod("zipcodeUS",function(a,b){return this.optional(b)||/^\d{5}-\d{4}$|^\d{5}$/.test(a)},"The specified US ZIP Code is invalid"),jQuery.validator.addMethod("ziprange",function(a,b){return this.optional(b)||/^90[2-5]\d\{2\}-\d{4}$/.test(a)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");(function($){$.fn.wizard=function(args){return new Wizard(this,args);};$.fn.wizard.logging=false;var WizardCard=function(wizard,card,index,prev,next){this.wizard=wizard;this.index=index;this.prev=prev;this.next=next;this.el=card;this.title=card.find("h3").first().text();this.name=card.data("cardname")||this.title;this.nav=this._createNavElement(this.title,index);this._disabled=false;this._loaded=false;this._events={};};WizardCard.prototype={select:function(){this.log("selecting");if(!this.isSelected()){this.nav.addClass("active");this.el.show();if(!this._loaded){this.trigger("loaded");this.reload();}
this.trigger("selected");}
var w=this.wizard;w.backButton.toggleClass("disabled",this.index==0);if(this.index>=w._cards.length-1){this.log("on last card, changing next button to submit");w.changeNextButton(w.args.buttons.submitText,"btn-success");w._readyToSubmit=true;w.trigger("readySubmit");}
else{w._readyToSubmit=false;w.changeNextButton(w.args.buttons.nextText,"btn-primary");}
return this;},_createNavElement:function(name,i){var li=$('<li class="wizard-nav-item"></li>');var a=$('<a class="wizard-nav-link"></a>');a.data("navindex",i);li.append(a);a.append('<span class="glyphicon glyphicon-chevron-right"></span> ');a.append(name);return li;},markVisited:function(){this.log("marking as visited");this.nav.addClass("already-visited");this.trigger("markVisited");return this;},unmarkVisited:function(){this.log("unmarking as visited");this.nav.removeClass("already-visited");this.trigger("unmarkVisited");return this;},deselect:function(){this.nav.removeClass("active");this.el.hide();this.trigger("deselect");return this;},enable:function(){this.log("enabling");this.nav.addClass("active");this._disabled=false;this.trigger("enabled");return this;},disable:function(hideCard){this.log("disabling");this._disabled=true;this.nav.removeClass("active already-visited");if(hideCard){this.el.hide();}
this.trigger("disabled");return this;},isDisabled:function(){return this._disabled;},alreadyVisited:function(){return this.nav.hasClass("already-visited");},isSelected:function(){return this.nav.hasClass("active");},reload:function(){this._loaded=true;this.trigger("reload");return this;},on:function(){return this.wizard.on.apply(this,arguments);},trigger:function(){this.callListener("on"+arguments[0]);return this.wizard.trigger.apply(this,arguments);},toggleAlert:function(msg,toggle){this.log("toggling alert to: "+toggle);toggle=typeof(toggle)=="undefined"?true:toggle;if(toggle){this.trigger("showAlert");}
else{this.trigger("hideAlert");}
var div;var alert=this.el.children("h3").first().next("div.alert");if(alert.length==0){if(!toggle){return this;}
this.log("couldn't find existing alert div, creating one");div=$("<div />");div.addClass("alert");div.addClass("hide");div.insertAfter(this.el.find("h3").first());}
else{this.log("found existing alert div");div=alert.first();}
if(toggle){if(msg!=null){this.log("setting alert msg to",msg);div.html(msg);}
div.show();}
else{div.hide();}
return this;},callListener:function(name){name=name.toLowerCase();this.log("looking for listener "+name);var listener=window[this.el.data(name)];if(listener){this.log("calling listener "+name);var wizard=this.wizard;try{var vret=listener(this);}
catch(e){this.log("exception calling listener "+name+": ",e);}}
else{this.log("didn't find listener "+name);}},problem:function(toggle){this.nav.find("a").toggleClass("wizard-step-error",toggle);},validate:function(){var failures=false;var self=this;this.el.find("[data-validate]").each(function(i,el){self.log("validating individiual inputs");el=$(el);var v=el.data("validate");if(!v){return;}
var ret={status:true,title:"Error",msg:""};var vret=window[v](el);$.extend(ret,vret);if($('#btn-'+el.attr('id')).length===1){el=$('#btn-'+el.attr('id'));}
if(!ret.status){failures=true;el.parents("div.form-group").toggleClass("has-error",true);if($('#btn-'+el.attr('id')).length===1){el=$('#btn-'+el.attr('id'));}
self.wizard.errorPopover(el,ret.msg);}else{el.parents("div.form-group").toggleClass("has-error",false);if($('#btn-'+el.attr('id')).length===1){el=$('#btn-'+el.attr('id'));}
try{el.popover("destroy");}
catch(e){el.popover("hide");}}});this.log("after validating inputs, failures is",failures);var cardValidator=window[this.el.data("validate")];if(cardValidator){this.log("running html-embedded card validator");var cardValidated=cardValidator(this);if(typeof(cardValidated)=="undefined"||cardValidated==null){cardValidated=true;}
if(!cardValidated)failures=true;this.log("after running html-embedded card validator, failures is",failures);}
this.log("running listener validator");var listenerValidated=this.trigger("validate");if(typeof(listenerValidated)=="undefined"||listenerValidated==null){listenerValidated=true;}
if(!listenerValidated)failures=true;this.log("after running listener validator, failures is",failures);var validated=!failures;if(validated){this.log("validated, calling listeners");this.trigger("validated");}
else{this.log("invalid");this.trigger("invalid");}
return validated;},log:function(){if(!window.console||!$.fn.wizard.logging){return;}
var prepend="card '"+this.name+"': ";var args=[prepend];args.push.apply(args,arguments);console.log.apply(console,args);},isActive:function(){return this.nav.hasClass("active");}};Wizard=function(markup,args){this.wizard_template=['<div  class="modal fade wizard">','<div class="modal-dialog wizard-dialog">','<div class="modal-content wizard-content">','<div class="modal-header wizard-header">','<button type="button" class="close wizard-close" aria-hidden="true">&times;</button>','<h3 class="modal-title wizard-title"></h3>','<span class="wizard-subtitle"></span>','</div>','<div class="modal-body wizard-body">','<div class="pull-left wizard-steps">','<div class="wizard-nav-container">','<ul class="nav wizard-nav-list">','</ul>','</div>','<div class="wizard-progress-container">','<div class="progress progress-striped">','<div class="progress-bar" style="width: 0%;"></div>','</div>','</div>','</div>','<form>','<div class="wizard-cards">','<div class="wizard-card-container">','</div>','<div class="wizard-footer">','<div class="wizard-buttons-container">','<button class="btn wizard-cancel wizard-close" type="button">Cancel</button>','<div class="btn-group-single pull-right">','<button class="btn wizard-back" type="button">Back</button>','<button class="btn btn-primary wizard-next" type="button">Next</button>','</div>','</div>','</div>','</div>','</form>','</div>','</div>','</div>','</div>'];this.args={keyboard:true,backdrop:true,show:false,submitUrl:"",showCancel:false,showClose:true,progressBarCurrent:false,increaseHeight:0,contentHeight:300,contentWidth:580,buttons:{cancelText:"Cancel",nextText:"Next",backText:"Back",submitText:"Submit",submittingText:"Submitting...",},formClass:"form-horizontal"};$.extend(this.args,args||{});this._create(markup);};Wizard.prototype={log:function(){if(!window.console||!$.fn.wizard.logging){return;}
var prepend="wizard "+this.el.id+": ";var args=[prepend];args.push.apply(args,arguments);console.log.apply(console,args);},_create:function(markup){this.markup=$(markup);this.title=this.markup.data('title');this.submitCards=this.markup.find(".wizard-error,.wizard-failure,.wizard-success,.wizard-loading");this.el=$(this.wizard_template.join('\n'));$('body').append(this.el);this.modal=this.el.modal({keyboard:this.args.keyboard,show:this.args.show,backdrop:this.args.backdrop});this.dimensions={contentHeight:this.args.contentHeight,contentWidth:this.args.contentWidth};this.dialog=this.modal.find('.wizard-dialog');this.content=this.modal.find('.wizard-content');this.header=this.modal.find('.wizard-header');this.body=this.modal.find('.wizard-body');this.wizardSteps=this.modal.find('.wizard-steps');this.wizardCards=this.modal.find('.wizard-cards');this.wizardCardContainer=this.modal.find('.wizard-card-container');this.wizardCardContainer.append(this.markup.find('.wizard-card')).append(this.submitCards);this.navContainer=this.modal.find('.wizard-nav-container');this.navList=this.modal.find('.wizard-nav-list');this.progressContainer=this.modal.find('.wizard-progress-container');this.progress=this.progressContainer.find('.progress-bar');this.closeButton=this.modal.find('button.wizard-close.close');this.cardsContainer=this.modal.find('wizard-cards-container');this.form=this.modal.find('form');this.footer=this.modal.find(".wizard-footer");this.cancelButton=this.footer.find(".wizard-cancel");this.backButton=this.footer.find(".wizard-back");this.nextButton=this.footer.find(".wizard-next");this._cards=[];this.cards={};this._readyToSubmit=false;this.percentComplete=0;this._submitting=false;this._events={};this._firstShow=true;this._createCards();this.nextButton.click(this,this._handleNextClick);this.backButton.click(this,this._handleBackClick);this.cancelButton.text(this.args.buttons.cancelText);this.backButton.text(this.args.buttons.backText);this.nextButton.text(this.args.buttons.nextText);this.form.addClass(this.args.formClass);this.popovers=[];var self=this;var _close=function(){self.reset();self.close();self.trigger("closed");};this.closeButton.click(_close);this.cancelButton.click(_close);this.wizardSteps.on("click","li.already-visited a.wizard-nav-link",this,function(event){var index=parseInt($(event.target).data("navindex"));event.data.setCard(index);});this.on("submit",this._defaultSubmit);this.autoDimensions();},autoDimensions:function(){this.modal.css('display','block');this.dimensions.header=this.header.outerHeight(true);this.dimensions.navigation=this.wizardSteps.outerHeight(true);if(this.dimensions.navigation<this.dimensions.contentHeight){this.dimensions.navigation=this.dimensions.contentHeight;}
this.dimensions.body=this.dimensions.navigation;this.wizardSteps.height(this.dimensions.body);this.dimensions.modal=(this.dimensions.header+this.dimensions.navigation);this.content.height(this.dimensions.modal+'px');this.dialog.width(this.dimensions.contentWidth);this.body.height(this.dimensions.body+'px');this.wizardCards.height(this.dimensions.body+'px');this.dimensions.footer=this.footer.outerHeight(true);this.dimensions.cardContainer=(this.dimensions.body-this.dimensions.footer);this.wizardCardContainer.height(this.dimensions.cardContainer);this.dimensions.offset=($(window).height()-this.dialog.height())/ 2;this.dialog.css({'margin-top':this.dimensions.offset+'px','padding-top':0});this.modal.css('display','');},setTitle:function(title){this.log("setting title to",title);this.modal.find(".wizard-title").first().text(title);return this;},setSubtitle:function(title){this.log("setting subtitle to",title);this.modal.find(".wizard-subtitle").first().text(title);return this;},errorPopover:function(el,msg,allowHtml){this.log("launching popover on",el);allowHtml=typeof allowHtml!=="undefined"?allowHtml:false;var popover=el.popover({content:msg,trigger:"manual",html:allowHtml,container:el.parents('.form-group')}).addClass("error-popover").popover("show").next(".popover");el.parents('.form-group').find('.popover').addClass("error-popover");this.popovers.push(el);return popover;},destroyPopover:function(pop){pop=$(pop);try{pop.popover("destroy");}
catch(e){pop.popover("hide");}},hidePopovers:function(el){this.log("hiding all popovers");var self=this;$.each(this.popovers,function(i,p){self.destroyPopover(p);});this.modal.find('.has-error').removeClass('has-error');this.popovers=[];},eachCard:function(fn){$.each(this._cards,fn);return this;},getActiveCard:function(){this.log("getting active card");var currentCard=null;$.each(this._cards,function(i,card){if(card.isActive()){currentCard=card;return false;}});if(currentCard){this.log("found active card",currentCard);}
else{this.log("couldn't find an active card");}
return currentCard;},changeNextButton:function(text,cls){this.log("changing next button, text: "+text,"class: "+cls);if(typeof(cls)!="undefined"){this.nextButton.removeClass("btn-success btn-primary");}
if(cls){this.nextButton.addClass(cls);}
this.nextButton.text(text);return this;},hide:function(){this.log("hiding");this.modal.modal("hide");return this;},close:function(){this.log("closing");this.modal.modal("hide");return this;},show:function(modalOptions){this.log("showing");if(this._firstShow){this.setCard(0);this._firstShow=false;}
if(this.args.showCancel){this.cancelButton.show();}else{this.cancelButton.hide();}
if(this.args.showClose){this.closeButton.show();}
this.modal.modal('show');return this;},on:function(name,fn){this.log("adding listener to event "+name);this._events[name]=fn;return this;},trigger:function(){var name=arguments[0];var args=Array.prototype.slice.call(arguments);args.shift();args.unshift(this);this.log("firing event "+name);var handler=this._events[name];if(handler===undefined&&this.wizard!==undefined){handler=this.wizard._events[name];}
var ret=null;if(typeof(handler)=="function"){this.log("found event handler, calling "+name);try{ret=handler.apply(this,args);}
catch(e){this.log("event handler "+name+" had an exception");}}
else{this.log("couldn't find an event handler for "+name);}
return ret;},reset:function(){this.log("resetting");this.updateProgressBar(0);this.hideSubmitCards();this.setCard(0);this.lockCards();this.enableNextButton();this.showButtons();this.hidePopovers();this.trigger("reset");return this;},_abstractIncrementStep:function(direction,getNext){var current=this.getActiveCard();var next;if(current){this.log("searching for valid next card");while(true){next=getNext(current);if(next){this.log("looking at card",next.index);if(next.isDisabled()){this.log("card "+next.index+" is disabled/locked, continuing");current=next;continue;}
else{return this.setCard(current.index+direction);}}
else{this.log("next card is not defined, breaking");break;}}}
else{this.log("current card is undefined");}},incrementCard:function(){this.log("incrementing card");var card=this._abstractIncrementStep(1,function(current){return current.next;});this.trigger("incrementCard");return card;},decrementCard:function(){this.log("decrementing card");var card=this._abstractIncrementStep(-1,function(current){return current.prev;});this.trigger("decrementCard");return card;},setCard:function(i){this.log("setting card to "+i);this.hideSubmitCards();var currentCard=this.getActiveCard();if(this._submitting){this.log("we're submitting the wizard already, can't change cards");return currentCard;}
var newCard=this._cards[i];if(newCard){if(newCard.isDisabled()){this.log("new card is currently disabled, returning");return currentCard;}
if(currentCard){if(i>currentCard.index){var cardToValidate=currentCard;var ok=false;while(cardToValidate.index!=newCard.index){if(cardToValidate.index!=currentCard.index){cardToValidate.prev.deselect();cardToValidate.prev.markVisited();cardToValidate.select();}
ok=cardToValidate.validate();if(!ok){return cardToValidate;}
cardToValidate=cardToValidate.next;}
cardToValidate.prev.deselect();cardToValidate.prev.markVisited();}
currentCard.deselect();currentCard.markVisited();}
newCard.select();if(this.args.progressBarCurrent){this.percentComplete=i*100.0 / this._cards.length;this.updateProgressBar(this.percentComplete);}
else{var lastPercent=this.percentComplete;this.percentComplete=i*100.0 / this._cards.length;this.percentComplete=Math.max(lastPercent,this.percentComplete);this.updateProgressBar(this.percentComplete);}
return newCard;}
else{this.log("couldn't find card "+i);}},updateProgressBar:function(percent){this.log("updating progress to "+percent+"%");this.progress.css({width:percent+"%"});this.percentComplete=percent;this.trigger("progressBar",percent);if(percent==100){this.log("progress is 100, animating progress bar");this.progressContainer.find('.progress').addClass("active");}
else if(percent==0){this.log("progress is 0, disabling animation");this.progressContainer.find('.progress').removeClass("active");}},getNextCard:function(){var currentCard=this.getActiveCard();if(currentCard)return currentCard.next;},lockCards:function(){this.log("locking nav cards");this.eachCard(function(i,card){card.unmarkVisited();});return this;},disableCards:function(){this.log("disabling all nav cards");this.eachCard(function(i,card){card.disable();});return this;},enableCards:function(){this.log("enabling all nav cards");this.eachCard(function(i,card){card.enable();});return this;},hideCards:function(){this.log("hiding cards");this.eachCard(function(i,card){card.deselect();});this.hideSubmitCards();return this;},hideButtons:function(){this.log("hiding buttons");this.cancelButton.hide();this.closeButton.hide();this.nextButton.hide();this.backButton.hide();return this;},showButtons:function(){this.log("showing buttons");if(this.args.showCancel){this.cancelButton.show();}else{this.cancelButton.hide();}
if(this.args.showClose){this.closeButton.show();};this.nextButton.show();this.backButton.show();return this;},getCard:function(el){var cardDOMEl=$(el).parents(".wizard-card").first()[0];if(cardDOMEl){var foundCard=null;this.eachCard(function(i,card){if(cardDOMEl==card.el[0]){foundCard=card;return false;}
return true;});return foundCard;}
else{return null;}},_createCards:function(){var prev=null;var next=null;var currentCard=null;var wizard=this;var self=this;self.log("Creating Cards");var cards=this.modal.find(".wizard-cards .wizard-card");$.each(cards,function(i,card){card=$(card);prev=currentCard;currentCard=new WizardCard(wizard,card,i,prev,next);self._cards.push(currentCard);if(currentCard.name){self.cards[currentCard.name]=currentCard;}
if(prev){prev.next=currentCard;}
self.modal.find(".wizard-steps .wizard-nav-list").append(currentCard.nav);});},showSubmitCard:function(name){this.log("showing "+name+" submit card");var card=this.el.find(".wizard-"+name);if(card.length){this.hideCards();this.el.find(".wizard-"+name).show();}
else{this.log("couldn't find submit card "+name);}},hideSubmitCard:function(name){this.log("hiding "+name+" submit card");this.el.find(".wizard-"+name).hide();},hideSubmitCards:function(){var wizard=this;$.each(["success","error","failure","loading"],function(i,name){wizard.hideSubmitCard(name);});},enableNextButton:function(){this.log("enabling next button");this.nextButton.removeAttr("disabled");return this;},disableNextButton:function(){this.log("disabling next button");this.nextButton.attr("disabled","disabled");return this;},serializeArray:function(){var form=this.form.serializeArray();this.form.find('input[disabled][data-serialize="1"]').each(function(){formObj={name:$(this).attr('name'),value:$(this).val()};form.push(formObj);});return form;},serialize:function(){var form=this.form.serialize();this.form.find('input[disabled][data-serialize="1"]').each(function(){form=form+'&'+$(this).attr('name')+'='+$(this).val();});return form;},find:function(selector){return this.modal.find(selector);},submitSuccess:function(){this.log("submit success");this._submitting=false;this.showSubmitCard("success");this.trigger("submitSuccess");},submitFailure:function(){this.log("submit failure");this._submitting=false;this.showSubmitCard("failure");this.trigger("submitFailure");},submitError:function(){this.log("submit error");this._submitting=false;this.showSubmitCard("error");this.trigger("submitError");},_submit:function(){this.log("submitting wizard");this._submitting=true;this.lockCards();this.cancelButton.hide();this.closeButton.hide();this.backButton.hide();this.showSubmitCard("loading");this.updateProgressBar(100);this.changeNextButton(this.args.buttons.submittingText,false);this.disableNextButton();var ret=this.trigger("submit");this.trigger("loading");},_onNextClick:function(){this.log("handling 'next' button click");var currentCard=this.getActiveCard();if(this._readyToSubmit&&currentCard.validate()){this._submit();}
else{currentCard=this.incrementCard();}},_onBackClick:function(){this.log("handling 'back' button click");var currentCard=this.decrementCard();},_handleNextClick:function(event){var wizard=event.data;wizard._onNextClick.call(wizard);},_handleBackClick:function(event){var wizard=event.data;wizard._onBackClick.call(wizard);},_defaultSubmit:function(wizard){$.ajax({type:"POST",url:wizard.args.submitUrl,data:wizard.serialize(),dataType:"json"}).done(function(response){wizard.submitSuccess();wizard.hideButtons();wizard.updateProgressBar(0);}).fail(function(){wizard.submitFailure();wizard.hideButtons();});}};}(window.jQuery));
/*! 
 * jQuery Steps v1.0.4 - 12/17/2013
 * Copyright (c) 2013 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */;(function($,undefined)
{var _uniqueId=0;var _cookiePrefix="jQu3ry_5teps_St@te_";var _tabSuffix="-t-";var _tabpanelSuffix="-p-";var _titleSuffix="-h-";var _indexOutOfRangeErrorMessage="Index out of range.";var _missingCorrespondingElementErrorMessage="One or more corresponding step {0} are missing.";function addStepToCache(wizard,step)
{getSteps(wizard).push(step);}
function analyzeData(wizard,options,state)
{var stepTitles=wizard.children(options.headerTag),stepContents=wizard.children(options.bodyTag);if(stepTitles.length>stepContents.length)
{throwError(_missingCorrespondingElementErrorMessage,"contents");}
else if(stepTitles.length<stepContents.length)
{throwError(_missingCorrespondingElementErrorMessage,"titles");}
var startIndex=options.startIndex;state.stepCount=stepTitles.length;if(options.saveState&&$.cookie)
{var savedState=$.cookie(_cookiePrefix+getUniqueId(wizard));var savedIndex=parseInt(savedState,0);if(!isNaN(savedIndex)&&savedIndex<state.stepCount)
{startIndex=savedIndex;}}
state.currentIndex=startIndex;stepTitles.each(function(index)
{var item=$(this),content=stepContents.eq(index),modeData=content.data("mode"),mode=(modeData==null)?contentMode.html:getValidEnumValue(contentMode,(/^\s*$/.test(modeData)||isNaN(modeData))?modeData:parseInt(modeData,0)),contentUrl=(mode===contentMode.html||content.data("url")===undefined)?"":content.data("url"),contentLoaded=(mode!==contentMode.html&&content.data("loaded")==="1"),step=$.extend({},stepModel,{title:item.html(),content:(mode===contentMode.html)?content.html():"",contentUrl:contentUrl,contentMode:mode,contentLoaded:contentLoaded});addStepToCache(wizard,step);});}
function decreaseCurrentIndexBy(state,decreaseBy)
{return state.currentIndex-decreaseBy;}
function destroy(wizard,options)
{var eventNamespace=getEventNamespace(wizard);wizard.unbind(eventNamespace).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(eventNamespace);wizard.removeClass(options.clearFixCssClass+" vertical");var contents=wizard.find(".content > *");contents.removeData("loaded").removeData("mode").removeData("url");contents.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden");wizard.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var wizardSubstitute=$(format("<{0} class=\"{1}\"></{0}>",wizard.get(0).tagName,wizard.attr("class")));var wizardId=wizard._getId();if(wizardId!=null&&wizardId!=="")
{wizardSubstitute._setId(wizardId);}
wizardSubstitute.html(wizard.find(".content").html());wizard.after(wizardSubstitute);wizard.remove();return wizardSubstitute;}
function finishStep(wizard,state)
{var currentStep=wizard.find(".steps li").eq(state.currentIndex);if(wizard.triggerHandler("finishing",[state.currentIndex]))
{currentStep.addClass("done").removeClass("error");wizard.triggerHandler("finished",[state.currentIndex]);}
else
{currentStep.addClass("error");}}
function format(value)
{for(var i=1;i<arguments.length;i++)
{var index=(i-1);var pattern=new RegExp("\\{"+index+"\\}","gm");value=value.replace(pattern,arguments[i]);}
return value;}
function getEventNamespace(wizard)
{var eventNamespace=wizard.data("eventNamespace");if(eventNamespace==null)
{eventNamespace="."+getUniqueId(wizard);wizard.data("eventNamespace",eventNamespace);}
return eventNamespace;}
function getStepAnchor(wizard,index)
{var uniqueId=getUniqueId(wizard);return wizard.find("#"+uniqueId+_tabSuffix+index);}
function getStepPanel(wizard,index)
{var uniqueId=getUniqueId(wizard);return wizard.find("#"+uniqueId+_tabpanelSuffix+index);}
function getStepTitle(wizard,index)
{var uniqueId=getUniqueId(wizard);return wizard.find("#"+uniqueId+_titleSuffix+index);}
function getOptions(wizard)
{return wizard.data("options");}
function getState(wizard)
{return wizard.data("state");}
function getSteps(wizard)
{return wizard.data("steps");}
function getStep(wizard,index)
{var steps=getSteps(wizard);if(index<0||index>=steps.length)
{throwError(_indexOutOfRangeErrorMessage);}
return steps[index];}
function getUniqueId(wizard)
{var uniqueId=wizard.data("uid");if(uniqueId==null)
{uniqueId=wizard._getId();if(uniqueId==null)
{uniqueId="steps-uid-".concat(_uniqueId);wizard._setId(uniqueId);}
_uniqueId++;wizard.data("uid",uniqueId);}
return uniqueId;}
function getValidEnumValue(enumType,keyOrValue)
{validateArgument("enumType",enumType);validateArgument("keyOrValue",keyOrValue);if(typeof keyOrValue==="string")
{var value=enumType[keyOrValue];if(value===undefined)
{throwError("The enum key '{0}' does not exist.",keyOrValue);}
return value;}
else if(typeof keyOrValue==="number")
{for(var key in enumType)
{if(enumType[key]===keyOrValue)
{return keyOrValue;}}
throwError("Invalid enum value '{0}'.",keyOrValue);}
else
{throwError("Invalid key or value type.");}}
function goToNextStep(wizard,options,state)
{return paginationClick(wizard,options,state,increaseCurrentIndexBy(state,1));}
function goToPreviousStep(wizard,options,state)
{return paginationClick(wizard,options,state,decreaseCurrentIndexBy(state,1));}
function goToStep(wizard,options,state,index)
{if(index<0||index>=state.stepCount)
{throwError(_indexOutOfRangeErrorMessage);}
if(options.forceMoveForward&&index<state.currentIndex)
{return;}
var oldIndex=state.currentIndex;if(wizard.triggerHandler("stepChanging",[state.currentIndex,index]))
{state.currentIndex=index;saveCurrentStateToCookie(wizard,options,state);refreshStepNavigation(wizard,options,state,oldIndex);refreshPagination(wizard,options,state);loadAsyncContent(wizard,options,state);startTransitionEffect(wizard,options,state,index,oldIndex);wizard.triggerHandler("stepChanged",[index,oldIndex]);}
else
{wizard.find(".steps li").eq(oldIndex).addClass("error");}
return true;}
function increaseCurrentIndexBy(state,increaseBy)
{return state.currentIndex+increaseBy;}
function initialize(options)
{var opts=$.extend(true,{},defaults,options);return this.each(function()
{var wizard=$(this);var state={currentIndex:opts.startIndex,currentStep:null,stepCount:0,transitionElement:null};wizard.data("options",opts);wizard.data("state",state);wizard.data("steps",[]);analyzeData(wizard,opts,state);render(wizard,opts,state);registerEvents(wizard,opts);if(opts.autoFocus&&_uniqueId===0)
{getStepAnchor(wizard,opts.startIndex).focus();}});}
function insertStep(wizard,options,state,index,step)
{if(index<0||index>state.stepCount)
{throwError(_indexOutOfRangeErrorMessage);}
step=$.extend({},stepModel,step);insertStepToCache(wizard,index,step);if(state.currentIndex>=index)
{state.currentIndex++;saveCurrentStateToCookie(wizard,options,state);}
state.stepCount++;var contentContainer=wizard.find(".content"),header=$(format("<{0}>{1}</{0}>",options.headerTag,step.title)),body=$(format("<{0}></{0}>",options.bodyTag));if(step.contentMode==null||step.contentMode===contentMode.html)
{body.html(step.content);}
if(index===0)
{contentContainer.prepend(body).prepend(header);}
else
{getStepPanel(wizard,(index-1)).after(body).after(header);}
renderBody(wizard,body,index);renderTitle(wizard,options,state,header,index);refreshSteps(wizard,options,state,index);refreshPagination(wizard,options,state);return wizard;}
function insertStepToCache(wizard,index,step)
{getSteps(wizard).splice(index,0,step);}
function keyUpHandler(event)
{var wizard=$(this),options=getOptions(wizard),state=getState(wizard);if(options.suppressPaginationOnFocus&&wizard.find(":focus").is(":input"))
{event.preventDefault();return false;}
var keyCodes={left:37,right:39};if(event.keyCode===keyCodes.left)
{event.preventDefault();goToPreviousStep(wizard,options,state);}
else if(event.keyCode===keyCodes.right)
{event.preventDefault();goToNextStep(wizard,options,state);}}
function loadAsyncContent(wizard,options,state)
{if(state.stepCount>0)
{var currentStep=getStep(wizard,state.currentIndex);if(!options.enableContentCache||!currentStep.contentLoaded)
{switch(getValidEnumValue(contentMode,currentStep.contentMode))
{case contentMode.iframe:wizard.find(".content > .body").eq(state.currentIndex).empty().html("<iframe src=\""+currentStep.contentUrl+"\" frameborder=\"0\" scrolling=\"no\" />").data("loaded","1");break;case contentMode.async:var currentStepContent=getStepPanel(wizard,state.currentIndex)._aria("busy","true").empty().append(renderTemplate(options.loadingTemplate,{text:options.labels.loading}));$.ajax({url:currentStep.contentUrl,cache:false}).done(function(data)
{currentStepContent.empty().html(data)._aria("busy","false").data("loaded","1");});break;}}}}
function paginationClick(wizard,options,state,index)
{var oldIndex=state.currentIndex;if(index>=0&&index<state.stepCount&&!(options.forceMoveForward&&index<state.currentIndex))
{var anchor=getStepAnchor(wizard,index),parent=anchor.parent(),isDisabled=parent.hasClass("disabled");parent._enableAria();anchor.click();if(oldIndex===state.currentIndex&&isDisabled)
{parent._disableAria();return false;}
return true;}
return false;}
function paginationClickHandler(event)
{event.preventDefault();var anchor=$(this),wizard=anchor.parent().parent().parent().parent(),options=getOptions(wizard),state=getState(wizard),href=anchor.attr("href");switch(href.substring(href.lastIndexOf("#")))
{case"#finish":finishStep(wizard,state);break;case"#next":goToNextStep(wizard,options,state);break;case"#previous":goToPreviousStep(wizard,options,state);break;}}
function refreshPagination(wizard,options,state)
{if(options.enablePagination)
{var finish=wizard.find(".actions a[href$='#finish']").parent(),next=wizard.find(".actions a[href$='#next']").parent();if(!options.forceMoveForward)
{var previous=wizard.find(".actions a[href$='#previous']").parent();if(state.currentIndex>0)
{previous._enableAria();}
else
{previous._disableAria();}}
if(options.enableFinishButton&&options.showFinishButtonAlways)
{if(state.stepCount===0)
{finish._disableAria();next._disableAria();}
else if(state.stepCount>1&&state.stepCount>(state.currentIndex+1))
{finish._enableAria();next._enableAria();}
else
{finish._enableAria();next._disableAria();}}
else
{if(state.stepCount===0)
{finish._hideAria();next._showAria()._disableAria();}
else if(state.stepCount>(state.currentIndex+1))
{finish._hideAria();next._showAria()._enableAria();}
else if(!options.enableFinishButton)
{next._disableAria();}
else
{finish._showAria();next._hideAria();}}}}
function refreshStepNavigation(wizard,options,state,oldIndex)
{var currentOrNewStepAnchor=getStepAnchor(wizard,state.currentIndex),currentInfo=$("<span class=\"current-info audible\">"+options.labels.current+" </span>"),stepTitles=wizard.find(".content > .title");if(oldIndex!=null)
{var oldStepAnchor=getStepAnchor(wizard,oldIndex);oldStepAnchor.parent().addClass("done").removeClass("error")._deselectAria();stepTitles.eq(oldIndex).removeClass("current").next(".body").removeClass("current");currentInfo=oldStepAnchor.find(".current-info");currentOrNewStepAnchor.focus();}
currentOrNewStepAnchor.prepend(currentInfo).parent()._selectAria().removeClass("done")._enableAria();stepTitles.eq(state.currentIndex).addClass("current").next(".body").addClass("current");}
function refreshSteps(wizard,options,state,index)
{var uniqueId=getUniqueId(wizard);for(var i=index;i<state.stepCount;i++)
{var uniqueStepId=uniqueId+_tabSuffix+i,uniqueBodyId=uniqueId+_tabpanelSuffix+i,uniqueHeaderId=uniqueId+_titleSuffix+i,title=wizard.find(".title").eq(i)._setId(uniqueHeaderId);wizard.find(".steps a").eq(i)._setId(uniqueStepId)._aria("controls",uniqueBodyId).attr("href","#"+uniqueHeaderId).html(renderTemplate(options.titleTemplate,{index:i+1,title:title.html()}));wizard.find(".body").eq(i)._setId(uniqueBodyId)._aria("labelledby",uniqueHeaderId);}}
function registerEvents(wizard,options)
{var eventNamespace=getEventNamespace(wizard);wizard.bind("finishing"+eventNamespace,options.onFinishing);wizard.bind("finished"+eventNamespace,options.onFinished);wizard.bind("stepChanging"+eventNamespace,options.onStepChanging);wizard.bind("stepChanged"+eventNamespace,options.onStepChanged);if(options.enableKeyNavigation)
{wizard.bind("keyup"+eventNamespace,keyUpHandler);}
wizard.find(".actions a").bind("click"+eventNamespace,paginationClickHandler);}
function removeStep(wizard,options,state,index)
{if(index<0||index>=state.stepCount||state.currentIndex===index)
{return false;}
removeStepFromCache(wizard,index);if(state.currentIndex>index)
{state.currentIndex--;saveCurrentStateToCookie(wizard,options,state);}
state.stepCount--;getStepTitle(wizard,index).remove();getStepPanel(wizard,index).remove();getStepAnchor(wizard,index).parent().remove();if(index===0)
{wizard.find(".steps li").first().addClass("first");}
if(index===state.stepCount)
{wizard.find(".steps li").eq(index).addClass("last");}
refreshSteps(wizard,options,state,index);refreshPagination(wizard,options,state);return true;}
function removeStepFromCache(wizard,index)
{getSteps(wizard).splice(index,1);}
function render(wizard,options,state)
{var wrapperTemplate="<{0} class=\"{1}\">{2}</{0}>",orientation=getValidEnumValue(stepsOrientation,options.stepsOrientation),verticalCssClass=(orientation===stepsOrientation.vertical)?" vertical":"",contentWrapper=$(format(wrapperTemplate,options.contentContainerTag,"content "+options.clearFixCssClass,wizard.html())),stepsWrapper=$(format(wrapperTemplate,options.stepsContainerTag,"steps "+options.clearFixCssClass,"<ul role=\"tablist\"></ul>")),stepTitles=contentWrapper.children(options.headerTag),stepContents=contentWrapper.children(options.bodyTag);wizard.attr("role","application").empty().append(stepsWrapper).append(contentWrapper).addClass(options.cssClass+" "+options.clearFixCssClass+verticalCssClass);stepContents.each(function(index)
{renderBody(wizard,$(this),index);});stepContents.eq(state.currentIndex)._showAria();stepTitles.each(function(index)
{renderTitle(wizard,options,state,$(this),index);});refreshStepNavigation(wizard,options,state);renderPagination(wizard,options,state);}
function renderBody(wizard,body,index)
{var uniqueId=getUniqueId(wizard),uniqueBodyId=uniqueId+_tabpanelSuffix+index,uniqueHeaderId=uniqueId+_titleSuffix+index;body._setId(uniqueBodyId).attr("role","tabpanel")._aria("labelledby",uniqueHeaderId).addClass("body")._hideAria();}
function renderPagination(wizard,options,state)
{if(options.enablePagination)
{var pagination="<{0} class=\"actions {1}\"><ul role=\"menu\" aria-label=\"{2}\">{3}</ul></{0}>",buttonTemplate="<li><a href=\"#{0}\" role=\"menuitem\">{1}</a></li>",buttons="";if(!options.forceMoveForward)
{buttons+=format(buttonTemplate,"previous",options.labels.previous);}
buttons+=format(buttonTemplate,"next",options.labels.next);if(options.enableFinishButton)
{buttons+=format(buttonTemplate,"finish",options.labels.finish);}
wizard.append(format(pagination,options.actionContainerTag,options.clearFixCssClass,options.labels.pagination,buttons));refreshPagination(wizard,options,state);loadAsyncContent(wizard,options,state);}}
function renderTemplate(template,substitutes)
{var matches=template.match(/#([a-z]*)#/gi);for(var i=0;i<matches.length;i++)
{var match=matches[i],key=match.substring(1,match.length-1);if(substitutes[key]===undefined)
{throwError("The key '{0}' does not exist in the substitute collection!",key);}
template=template.replace(match,substitutes[key]);}
return template;}
function renderTitle(wizard,options,state,header,index)
{var uniqueId=getUniqueId(wizard),uniqueStepId=uniqueId+_tabSuffix+index,uniqueBodyId=uniqueId+_tabpanelSuffix+index,uniqueHeaderId=uniqueId+_titleSuffix+index,stepCollection=wizard.find(".steps > ul"),title=renderTemplate(options.titleTemplate,{index:index+1,title:header.html()}),stepItem=$("<li role=\"tab\"><a id=\""+uniqueStepId+"\" href=\"#"+uniqueHeaderId+"\" aria-controls=\""+uniqueBodyId+"\">"+title+"</a></li>");if(!options.enableAllSteps)
{stepItem._disableAria();}
if(state.currentIndex>index)
{stepItem._enableAria().addClass("done");}
header._setId(uniqueHeaderId).attr("tabindex","-1").addClass("title");if(index===0)
{stepCollection.prepend(stepItem);}
else
{stepCollection.find("li").eq(index-1).after(stepItem);}
if(index===0)
{stepCollection.find("li").removeClass("first").eq(index).addClass("first");}
if(index===(state.stepCount-1))
{stepCollection.find("li").removeClass("last").eq(index).addClass("last");}
stepItem.children("a").bind("click"+getEventNamespace(wizard),stepClickHandler);}
function saveCurrentStateToCookie(wizard,options,state)
{if(options.saveState&&$.cookie)
{$.cookie(_cookiePrefix+getUniqueId(wizard),state.currentIndex);}}
function startTransitionEffect(wizard,options,state,index,oldIndex)
{var stepContents=wizard.find(".content > .body"),effect=getValidEnumValue(transitionEffect,options.transitionEffect),effectSpeed=options.transitionEffectSpeed,newStep=stepContents.eq(index),currentStep=stepContents.eq(oldIndex);switch(effect)
{case transitionEffect.fade:case transitionEffect.slide:var hide=(effect===transitionEffect.fade)?"fadeOut":"slideUp",show=(effect===transitionEffect.fade)?"fadeIn":"slideDown";state.transitionElement=newStep;currentStep[hide](effectSpeed,function()
{var wizard=$(this)._hideAria().parent().parent(),state=getState(wizard);if(state.transitionElement)
{state.transitionElement[show](effectSpeed,function()
{$(this)._showAria();});state.transitionElement=null;}}).promise();break;case transitionEffect.slideLeft:var outerWidth=currentStep.outerWidth(true),posFadeOut=(index>oldIndex)?-(outerWidth):outerWidth,posFadeIn=(index>oldIndex)?outerWidth:-(outerWidth);currentStep.animate({left:posFadeOut},effectSpeed,function(){$(this)._hideAria();}).promise();newStep.css("left",posFadeIn+"px")._showAria().animate({left:0},effectSpeed).promise();break;default:currentStep._hideAria();newStep._showAria();break;}}
function stepClickHandler(event)
{event.preventDefault();var anchor=$(this),wizard=anchor.parent().parent().parent().parent(),options=getOptions(wizard),state=getState(wizard),oldIndex=state.currentIndex;if(anchor.parent().is(":not(.disabled):not(.current)"))
{var href=anchor.attr("href"),position=parseInt(href.substring(href.lastIndexOf("-")+1),0);goToStep(wizard,options,state,position);}
if(oldIndex===state.currentIndex)
{getStepAnchor(wizard,oldIndex).focus();return false;}}
function throwError(message)
{if(arguments.length>1)
{message=format.apply(this,arguments);}
throw new Error(message);}
function validateArgument(argumentName,argumentValue)
{if(argumentValue==null)
{throwError("The argument '{0}' is null or undefined.",argumentName);}}
$.fn.steps=function(method)
{if($.fn.steps[method])
{return $.fn.steps[method].apply(this,Array.prototype.slice.call(arguments,1));}
else if(typeof method==="object"||!method)
{return initialize.apply(this,arguments);}
else
{$.error("Method "+method+" does not exist on jQuery.steps");}};$.fn.steps.add=function(step)
{var options=getOptions(this),state=getState(this);return insertStep(this,options,state,state.stepCount,step);};$.fn.steps.destroy=function()
{var options=getOptions(this);return destroy(this,options);};$.fn.steps.finish=function()
{var state=getState(this);finishStep(this,state);};$.fn.steps.getCurrentIndex=function()
{return getState(this).currentIndex;};$.fn.steps.getCurrentStep=function()
{return getStep(this,getState(this).currentIndex);};$.fn.steps.getStep=function(index)
{return getStep(this,index);};$.fn.steps.insert=function(index,step)
{var options=getOptions(this),state=getState(this);return insertStep(this,options,state,index,step);};$.fn.steps.next=function()
{var options=getOptions(this),state=getState(this);return goToNextStep(this,options,state);};$.fn.steps.previous=function()
{var options=getOptions(this),state=getState(this);return goToPreviousStep(this,options,state);};$.fn.steps.remove=function(index)
{var options=getOptions(this),state=getState(this);return removeStep(this,options,state,index);};$.fn.steps.setStep=function(index,step)
{throw new Error("Not yet implemented!");};$.fn.steps.skip=function(count)
{throw new Error("Not yet implemented!");};var contentMode=$.fn.steps.contentMode={html:0,iframe:1,async:2};var stepsOrientation=$.fn.steps.stepsOrientation={horizontal:0,vertical:1};var transitionEffect=$.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3};var stepModel=$.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:contentMode.html,contentLoaded:false};var defaults=$.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard-inline",clearFixCssClass:"clearfix",stepsOrientation:stepsOrientation.horizontal,titleTemplate:"<span class=\"number\">#index#.</span> #title#",loadingTemplate:"<span class=\"spinner\"></span> #text#",autoFocus:false,enableAllSteps:false,enableKeyNavigation:true,enablePagination:true,suppressPaginationOnFocus:true,enableContentCache:true,enableFinishButton:true,preloadContent:false,showFinishButtonAlways:false,forceMoveForward:false,saveState:false,startIndex:0,transitionEffect:transitionEffect.none,transitionEffectSpeed:200,onStepChanging:function(event,currentIndex,newIndex){return true;},onStepChanged:function(event,currentIndex,priorIndex){},onFinishing:function(event,currentIndex){return true;},onFinished:function(event,currentIndex){},labels:{current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}};$.fn.extend({_aria:function(name,value)
{return this.attr("aria-"+name,value);},_removeAria:function(name)
{return this.removeAttr("aria-"+name);},_enableAria:function()
{return this.removeClass("disabled")._aria("disabled","false");},_disableAria:function()
{return this.addClass("disabled")._aria("disabled","true");},_hideAria:function()
{return this.hide()._aria("hidden","true");},_showAria:function()
{return this.show()._aria("hidden","false");},_selectAria:function()
{return this.addClass("current")._aria("selected","true");},_deselectAria:function()
{return this.removeClass("current")._aria("selected","false");},_getId:function()
{return this.attr("id");},_setId:function(id)
{return this.attr("id",id);}});})(jQuery);$(function(){$(".form-wizard").steps({bodyTag:"section",onStepChanging:function(event,currentIndex,newIndex){if(currentIndex>newIndex){return true;}
if(newIndex===3&&Number($("#age").val())<18){return false;}
var form=$(this);if(currentIndex<newIndex){$(".body:eq("+newIndex+") label.error",form).remove();$(".body:eq("+newIndex+") .error",form).removeClass("error");}
form.validate().settings.ignore=":disabled,:hidden,.ignore";return form.valid();},onStepChanged:function(event,currentIndex,priorIndex){if(currentIndex===2&&Number($("#age").val())>=18){$(this).steps("next");}
if(currentIndex===2&&priorIndex===3){$(this).steps("previous");}},onFinishing:function(event,currentIndex){var form=$(this);form.validate().settings.ignore=":disabled,.ignore";return form.valid();},onFinished:function(event,currentIndex){var form=$(this);form[0].submit();}}).validate({errorPlacement:function(error,element){element.before(error);},rules:{bank_name:{required:true},account_name:{required:true},routing_number:{required:true},account_number:{required:true},account_type:{required:true},card_full_name:{required:true},card_number:{required:true},expiry_month:{required:true},expiry_year:{required:true},cvv_number:{required:true}},messages:{bank_name:"The bank name field is required and cannot be empty",account_name:"The account name field is required and cannot be"+" empty",routing_number:"The routing number field is required and cannot"+" be empty",account_number:"The account number field is required and cannot"+" be empty",account_type:"The account type field is required and cannot be"+" empty",card_full_name:"The card full name field is required and cannot"+" be empty",card_number:"The card number field is required and cannot be empty",expiry_month:"The expiry month field is required and cannot be"+" empty",expiry_year:"The expiry year field is required and cannot be"+" empty",cvv_number:"The cvv number field is required and cannot be empty",},errorPlacement:function(error,element){error.appendTo(element.parent(".form-group"));}});$.fn.wizard.logging=true;var wizard=$('#satellite-wizard').wizard({keyboard:false,contentHeight:400,contentWidth:700,backdrop:'static'});$('#fqdn').on('input',function(){if($(this).val().length!=0){$('#ip').val('').attr('disabled','disabled');$('#fqdn, #ip').parents('.form-group').removeClass('has-error has-success');}else{$('#ip').val('').removeAttr('disabled');}});var pattern=/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;x=46;$('#ip').on('input',function(){if($(this).val().length!=0){$('#fqdn').val('').attr('disabled','disabled');}else{$('#fqdn').val('').removeAttr('disabled');}}).keypress(function(e){if(e.which!=8&&e.which!=0&&e.which!=x&&(e.which<48||e.which>57)){console.log(e.which);return false;}}).keyup(function(){var $this=$(this);if(!pattern.test($this.val())){console.log('Not Valid IP');$this.parents('.form-group').removeClass('has-error has-success').addClass('has-error');while($this.val().indexOf("..")!==-1){$this.val($this.val().replace('..','.'));}
x=46;}else{x=0;var lastChar=$this.val().substr($this.val().length-1);if(lastChar=='.'){$this.val($this.val().slice(0,-1));}
var ip=$this.val().split('.');if(ip.length==4){console.log('Valid IP');$this.parents('.form-group').removeClass('has-error').addClass('has-success');}}});wizard.on('closed',function(){wizard.reset();});wizard.on("reset",function(){wizard.modal.find(':input').val('').removeAttr('disabled');wizard.modal.find('.form-group').removeClass('has-error').removeClass('has-succes');wizard.modal.find('#fqdn').data('is-valid',0).data('lookup',0);});wizard.on("submit",function(wizard){var submit={"hostname":$("#new-server-fqdn").val()};this.log('seralize()');this.log(this.serialize());this.log('serializeArray()');this.log(this.serializeArray());setTimeout(function(){wizard.trigger("success");wizard.hideButtons();wizard._submitting=false;wizard.showSubmitCard("success");wizard.updateProgressBar(0);},2000);});wizard.el.find(".wizard-success .im-done").click(function(){wizard.hide();setTimeout(function(){wizard.reset();},250);});wizard.el.find(".wizard-success .create-another-server").click(function(){wizard.reset();});$(".wizard-group-list").click(function(){alert("Disabled for demo.");});$('#open-wizard').click(function(e){e.preventDefault();wizard.show();});});function validateServerLabel(el){var name=el.val();var retValue={};if(name==""){retValue.status=false;retValue.msg="Please enter a label";}else{retValue.status=true;}
return retValue;};function validateFQDN(el){var $this=$(el);var retValue={};if($this.is(':disabled')){retValue.status=true;}else{if($this.data('lookup')===0){retValue.status=false;retValue.msg="Preform lookup first";}else{if($this.data('is-valid')===0){retValue.status=false;retValue.msg="Lookup Failed";}else{retValue.status=true;}}}
return retValue;};function lookup(){$('#fqdn').data('lookup',1);$('#fqdn').data('is-valid',1);$('#ip').val('127.0.0.1');};$(window).load(function(){$('.nbtn').prop('disabled',true);});$('#user_type').change(function(){$('.nbtn').prop('disabled',false);});$('#frm_creditCardEdit').unbind('submit').bind('submit',function(e){e.preventDefault();var url="edit-payment-profile";$('body').loader('show');$.ajax({type:"POST",url:url,data:$("#frm_creditCardEdit").serialize(),success:function(data)
{var json=JSON.parse(data);if(json.msg){$('#NmsgDiv').show();$('#NmsgDiv').css('color','#a94442');$('#NmsgDiv').html(json.msg);setTimeout(function(){$('#NmsgDiv').fadeOut('fast');},4000);$('body').loader('hide');return false;}
if(json.card_full_name){$('#NmsgDiv').show();$('#NmsgDiv').css('color','#a94442');$('#NmsgDiv').html(json.card_full_name);setTimeout(function(){$('#NmsgDiv').fadeOut('fast');},4000);}
else if(json.card_number){$('#NmsgDiv').show();$('#NmsgDiv').css('color','#a94442');$('#NmsgDiv').html(json.card_number);setTimeout(function(){$('#NmsgDiv').fadeOut('fast');},4000);}
else if(json.expiry_month){$('#NmsgDiv').show();$('#NmsgDiv').css('color','#a94442');$('#NmsgDiv').html(json.expiry_month);setTimeout(function(){$('#NmsgDiv').fadeOut('fast');},4000);}
else if(json.expiry_year){$('#NmsgDiv').show();$('#NmsgDiv').css('color','#a94442');$('#NmsgDiv').html(json.expiry_year);setTimeout(function(){$('#NmsgDiv').fadeOut('fast');},4000);}
else if(json.cvv_number){$('#NmsgDiv').show();$('#NmsgDiv').css('color','#a94442');$('#NmsgDiv').html(json.cvv_number);setTimeout(function(){$('#NmsgDiv').fadeOut('fast');},4000);}
else if(data=='true'){$('#NSmsgDiv').show();$('#NSmsgDiv').css('color','#3c763d');$('#NSmsgDiv').html("Information has been saved successfully!!");setTimeout(function(){$('#NSmsgDiv').fadeOut('fast');},4000);}
else if(data=='false'){$('#NmsgDiv').show();$('#NmsgDiv').css('color','#a94442');$('#NmsgDiv').html("Information incorrect.");setTimeout(function(){$('#NmsgDiv').fadeOut('fast');},4000);}
$('body').loader('hide');}});});$('#frm_bankAccountEdit').unbind('submit').bind('submit',function(e){$('#loading').loader('show');var url="edit-payment-profile";e.stopImmediatePropagation();$.ajax({type:"POST",url:url,data:$("#frm_bankAccountEdit").serialize(),success:function(data)
{var json=JSON.parse(data);if(json.msg){$('#msgDiv').show();$('#msgDiv').css('color','#a94442');$('#msgDiv').html(json.msg);setTimeout(function(){$('#msgDiv').fadeOut('fast');},4000);$('#loading').loader('hide');return false;}
if(json.bank_name){$('#msgDiv').show();$('#msgDiv').css('color','#a94442');$('#msgDiv').html(json.bank_name);setTimeout(function(){$('#msgDiv').fadeOut('fast');},4000);}
else if(json.account_name){$('#msgDiv').show();$('#msgDiv').css('color','#a94442');$('#msgDiv').html(json.account_name);setTimeout(function(){$('#msgDiv').fadeOut('fast');},4000);}
else if(json.routing_number){$('#msgDiv').show();$('#msgDiv').css('color','#a94442');$('#msgDiv').html(json.routing_number);setTimeout(function(){$('#msgDiv').fadeOut('fast');},4000);}
else if(json.account_number){$('#msgDiv').show();$('#msgDiv').css('color','#a94442');$('#msgDiv').html(json.account_number);setTimeout(function(){$('#msgDiv').fadeOut('fast');},4000);}
else if(json.account_type){$('#msgDiv').show();$('#msgDiv').css('color','#a94442');$('#msgDiv').html(json.account_type);setTimeout(function(){$('#msgDiv').fadeOut('fast');},4000);}
else if(data=='true'){$('#SmsgDiv').show();$('#SmsgDiv').css('color','#3c763d');$('#SmsgDiv').html("Information has been saved successfully!!");setTimeout(function(){$('#SmsgDiv').fadeOut('fast');},4000);}
else if(data=='false'){$('#msgDiv').css('color','#a94442');$('#msgDiv').html("Information incorrect .");setTimeout(function(){$('#msgDiv').fadeOut('fast');},4000);}
$('#loading').loader('hide');}});e.preventDefault();});$(function(){$('.collapse').on('shown.bs.collapse',function(){$(this).parent().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus");}).on('hidden.bs.collapse',function(){$(this).parent().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus");});if($('#frm_profileInfoForm').is(':visible')){changeUserType('profile-info');}});window.onload=changeUserType('profile-info');function showRegistration(){var selectedVal=$('#sel_serviceSubscriber option:selected').val();if(0===parseInt(selectedVal)){$('#dv_registrationConfirm').removeClass('show').addClass('hide');$('#dv_registrationFailure').removeClass('hide').addClass('show');}else{$('#dv_registrationConfirm').removeClass('show').addClass('hide');$('#dv_registration').removeClass('hide').addClass('show');}}
function uploadImageFile(){$('#dv_loaderImage').css('display','block');$('#frm_changeProfilePic').submit();}
function changeProfileImage(imgName){$('.navbar-right .dropdown img',window.parent.document).attr('src',imgName);}
function changeUserType(sectionName){var selectedType=$('#user_type option:selected').val();$('.user-types').each(function(index){$(this).val(selectedType);});switch(parseInt(selectedType)){case 1:$('#dv_bankInfoLnk, #dv_bankInfo').addClass('hide');$('#dv_bankInfoLnk :input').addClass('ignore');$('#dv_cardInfoLnk :input').removeClass('ignore');$('#dv_cardInfoLnk, #dv_cardInfo').removeClass('hide');$("#user_type option[value="+2+"]").hide();$("#user_type option[value="+1+"]").addClass('selected');if('more-info'===sectionName){$('#dv_cardInfoLnk .glyphicon').addClass('glyphicon-minus').removeClass('glyphicon-plus');$('#collapseTwo').addClass('in').attr('aria-expanded','true').removeAttr('style');}
break;case 2:$('#dv_cardInfoLnk, #dv_cardInfo').addClass('hide');$('#dv_cardInfoLnk :input').addClass('ignore');$('#dv_bankInfoLnk :input').removeClass('ignore');$('#dv_bankInfoLnk, #dv_bankInfo').removeClass('hide');$("#user_type option[value="+1+"]").hide();$("#user_type option[value="+2+"]").addClass('newselected');$("#user_type option:selected").show();if('more-info'===sectionName){$('#dv_bankInfoLnk .glyphicon').addClass('glyphicon-minus').removeClass('glyphicon-plus');$('#collapseOne').addClass('in').attr('aria-expanded','true').removeAttr('style');}
break;case 3:$('#dv_cardInfoLnk, #dv_cardInfo').removeClass('hide');$('#dv_bankInfoLnk, #dv_bankInfo').removeClass('hide');$('#dv_bankInfoLnk :input').removeClass('ignore');$('#dv_cardInfoLnk :input').removeClass('ignore');$("#user_type option[value="+1+"]").hide();$("#user_type option[value="+2+"]").hide();$(".selected").show();$(".newselected").show();if('more-info'===sectionName){$('#dv_cardInfoLnk .glyphicon').addClass('glyphicon-plus').removeClass('glyphicon-minus');$('#collapseTwo').removeClass('in').attr('aria-expanded','false');$('#dv_bankInfoLnk .glyphicon').addClass('glyphicon-minus').removeClass('glyphicon-plus');$('#collapseOne').addClass('in').attr('aria-expanded','true').removeAttr('style');}
break;}}
var site_url=window.location.href;var base_urll=window.location.origin;var current_url=base_urll.concat('/billing-info')
$(function(){if(current_url==site_url){changeUserTypeBilling('profile-info');}});function changeUserTypeBilling(sectionName){var selectedType=$('#user_type option:selected').val();$('.user-types').each(function(index){$(this).val(selectedType);});switch(parseInt(selectedType)){case 1:$('#dv_bankInfoLnk, #dv_bankInfo').addClass('hide');$('#dv_bankInfoLnk :input').addClass('ignore');$('#dv_cardInfoLnk :input').removeClass('ignore');$('#dv_cardInfoLnk, #dv_cardInfo').removeClass('hide');$("#user_type option[value="+2+"]").show();$("#user_type option[value="+1+"]").addClass('selected');if('more-info'===sectionName){$('#dv_cardInfoLnk .glyphicon').addClass('glyphicon-minus').removeClass('glyphicon-plus');$('#collapseTwo').addClass('in').attr('aria-expanded','true').removeAttr('style');}
break;case 2:$('#dv_cardInfoLnk, #dv_cardInfo').addClass('hide');$('#dv_cardInfoLnk :input').addClass('ignore');$('#dv_bankInfoLnk :input').removeClass('ignore');$('#dv_bankInfoLnk, #dv_bankInfo').removeClass('hide');$("#user_type option[value="+1+"]").show();$("#user_type option[value="+2+"]").addClass('newselected');$("#user_type option:selected").show();if('more-info'===sectionName){$('#dv_bankInfoLnk .glyphicon').addClass('glyphicon-minus').removeClass('glyphicon-plus');$('#collapseOne').addClass('in').attr('aria-expanded','true').removeAttr('style');}
break;case 3:$('#dv_cardInfoLnk, #dv_cardInfo').removeClass('hide');$('#dv_bankInfoLnk, #dv_bankInfo').removeClass('hide');$('#dv_bankInfoLnk :input').removeClass('ignore');$('#dv_cardInfoLnk :input').removeClass('ignore');$("#user_type option[value="+1+"]").show();$("#user_type option[value="+2+"]").show();$(".selected").show();$(".newselected").show();if('more-info'===sectionName){$('#dv_cardInfoLnk .glyphicon').addClass('glyphicon-plus').removeClass('glyphicon-minus');$('#collapseTwo').removeClass('in').attr('aria-expanded','false');$('#dv_bankInfoLnk .glyphicon').addClass('glyphicon-minus').removeClass('glyphicon-plus');$('#collapseOne').addClass('in').attr('aria-expanded','true').removeAttr('style');}
break;}}